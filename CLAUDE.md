# AI Trends Dashboard

## Database Rule

When adding or modifying sources (or any schema/data change), always apply
the change to the live Supabase database in addition to creating migration
files and updating setup scripts. Migration files do not auto-apply.

## Documentation Update Rule

After any structural change (workflow steps added/removed, new workflows,
rule changes, file structure changes, new dependencies), update both:
1. `docs/product-spec.md` — reflect the change in the spec
2. `docs/architecture.png` — regenerate the diagram from `docs/architecture.mmd`

## Verification Rule

After completing a development task, verify the changes work by launching
the dev server and testing via Playwright (browser snapshot / screenshot).
Check that affected pages render correctly and new UI elements appear as
expected. After verification, delete any temporary `.png` screenshots
generated by Playwright (e.g. in `.playwright-mcp/`) before committing.

## Skills

Before any task, consult the skills-index.json referenced in the global CLAUDE.md to find applicable skills by matching tags and descriptions to the task at hand. Read the matching `SKILL.md` before proceeding.

- `workflows/self-healing/SKILL.md` — Buffer-promote-clear learning system

## Self-Healing

Managed by the `workflows/self-healing` skill. Read the skill when triggered protocols fire.

| Setting | Value |
|---------|-------|
| Buffer file | `learnings.md` |
| Rules file | CLAUDE.md > Promoted Rules |
| Staleness | 60 days |
| Signal alert | 20+ entries |
| Synthesis trigger | 30 days |

**Real-time capture:** Every feedback signal (correction, preference, opinion) must be written to the buffer file BEFORE the next action. Not after the session. Immediately.

**Session start:** Quick-scan buffer file. If 20+ entries, flag bloat. Clear any PROMOTED markers. Spot-check oldest signals against rules file.

**Session end:** (1) Scan conversation for uncaptured signals. (2) Encode actionable signals, check 3+ thresholds, apply direct statements. (3) Clear every encoded/promoted signal from buffer. Report count. (4) Summarize: what was produced, learnings captured, self-healing fires, signals cleared.

## Promoted Rules

<!-- Rules promoted by self-healing. This section grows as the system learns. -->
